<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>testGame</title>
        <link rel="stylesheet" type="text/css" href="/assets/style.css">
        <script src="/js/phaser.js"></script>
        <script src="/js/socket.io.js"></script>
    </head>
    <body>

    <script type="text/javascript">
    window.onload = function() {
        var width = 800;
        var height = 600;
        var worldWidth= 1600;
        var worldHeight= 1200;
        var speed = 175;
        var player;
        var cursors;
        var game = new Phaser.Game(width, height, Phaser.AUTO, null, { preload: preload, create: create, update: update});
        function drawStars(starCountInput) {
            for (starCount = 0; starCount < starCountInput; starCount++)
            {
                smallStar = game.add.sprite(game.rnd.realInRange(0,1)*worldWidth,game.rnd.realInRange(0,1)*worldHeight, 'smallStar')
                if (starCount % 2 == 0)
                {
                    middleStar = game.add.sprite(game.rnd.realInRange(0,1)*worldWidth,game.rnd.realInRange(0,1)*worldHeight, 'middleStar')
                }
                if (starCount % 10 == 0)
                {
                    star = game.add.sprite(game.rnd.realInRange(0,1)*worldWidth,game.rnd.realInRange(0,1)*worldHeight, 'star')
                }
                if (starCount % 100 == 0)
                {
                    bigStar = game.add.sprite(game.rnd.realInRange(0,1)*worldWidth,game.rnd.realInRange(0,1)*worldHeight, 'bigStar')
                }
            }
        }
        function preload () {
            game.load.image('smallStar', 'assets/sprites/smallStar.png');
            game.load.image('star', 'assets/sprites/star.png');
            game.load.image('middleStar', 'assets/sprites/middlestar.png');
            game.load.image('bigStar', 'assets/sprites/bigStar.png');
            game.load.image('player', 'assets/sprites/moon.png');

            game.scale.scaleMode = Phaser.ScaleManager.RESIZE;  


            game.renderer.renderSession.roundPixels = true;  
            Phaser.Canvas.setImageRenderingCrisp(this.game.canvas) 
        }
        function create () {
            game.world.setBounds(0,0,1600,1200);
            cursors = game.input.keyboard.createCursorKeys();
            game.physics.startSystem(Phaser.Physics.ARCADE);
            drawStars(200);
            player = game.add.sprite(0.5*width, 0.5*height, 'player');
            player.anchor.set(0.5);
            game.physics.enable(player, Phaser.Physics.ARCADE);
            player.body.collideWorldBounds = true;
            game.camera.follow(player, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);
        }
        function update () {
            if (cursors.up.isDown) {
              player.body.velocity.y = -speed;
            }
            else if (cursors.down.isDown) {
              player.body.velocity.y = speed;
            }
            else {
              player.body.velocity.y = 0;
            }
            if (cursors.left.isDown) {
              player.body.velocity.x = -speed;
            }
            else if (cursors.right.isDown) {
              player.body.velocity.x = speed;
            }
            else {
              player.body.velocity.x = 0;
            }
        }
    };
    </script>
    </body>
</html>